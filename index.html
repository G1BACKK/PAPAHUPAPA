<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Pay via PhonePe</title>
</head>
<body>
  <h2>Pay â‚¹100 via PhonePe</h2>
  <button onclick="payViaPhonePe()">Pay Now</button>

  <script>
    async function payViaPhonePe() {
      try {
        // Step 1: Create the order (same backend you provided)
        const response = await fetch("https://papa-mode.onrender.com/create-order", {
          method: "POST"
        });

        if (!response.ok) {
          throw new Error("Order creation failed");
        }

        const data = await response.json();

        // Step 2: Build UPI intent link manually (not tracked by Cashfree)
        const upiLink = `upi://pay?pa=gigablast.cf@axisbank&pn=Gigablast&am=100.00&cu=INR&tn=Cashfree+Order+${Date.now()}`;

        // Step 3: Redirect to UPI app (PhonePe, GPay, etc.)
        window.location.href = upiLink;
      } catch (err) {
        console.error("Error:", err);
        alert("Payment failed. Please try again.");
      }
    }
  </script>
</body>
</html>
